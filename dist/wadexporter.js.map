{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Parsers/Util.ts","webpack:///./src/Parsers/Wad.ts","webpack:///./src/Reader.ts","webpack:///./tools/WadExporter/index.ts","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///external \"pngjs\"","webpack:///external \"util\""],"names":[],"mappings":"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","file":"wadexporter.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./tools/WadExporter/index.ts\");\n","export function paletteToRGBA(\n  pixels: Uint8Array,\n  palette: Uint8Array\n): Uint8Array {\n  const rgba = new Uint8Array(pixels.length * 4)\n\n  const len = pixels.length\n  for (let i = 0; i < len; ++i) {\n    rgba[i * 4] = palette[pixels[i] * 3]\n    rgba[i * 4 + 1] = palette[pixels[i] * 3 + 1]\n    rgba[i * 4 + 2] = palette[pixels[i] * 3 + 2]\n    rgba[i * 4 + 3] = 255\n  }\n\n  return rgba\n}\n\nexport function paletteWithLastTransToRGBA(\n  pixels: Uint8Array,\n  palette: Uint8Array\n): Uint8Array {\n  const rgba = new Uint8Array(pixels.length * 4)\n\n  const len = pixels.length\n  for (let i = 0; i < len; ++i) {\n    if (pixels[i] === 255) {\n      rgba[i * 4 + 3] = 0\n    } else {\n      rgba[i * 4] = palette[pixels[i] * 3]\n      rgba[i * 4 + 1] = palette[pixels[i] * 3 + 1]\n      rgba[i * 4 + 2] = palette[pixels[i] * 3 + 2]\n      rgba[i * 4 + 3] = 255\n    }\n  }\n\n  return rgba\n}\n","import { Reader, ReaderDataType } from '../Reader'\r\nimport { paletteToRGBA, paletteWithLastTransToRGBA } from './Util'\r\n\r\nfunction parseDecal(r: Reader): WadDecal {\r\n  const name = r.nstr(16)\r\n\r\n  const width = r.ui()\r\n  const height = r.ui()\r\n\r\n  r.skip(4 * 4) // skip mipmap offsets\r\n\r\n  // read largest mipmap data\r\n  const pixelCount = width * height\r\n  const pixels = r.arrx(pixelCount, ReaderDataType.UByte)\r\n\r\n  // skip other 3 mipmaps\r\n  r.skip(21 * (pixelCount / 64))\r\n\r\n  r.skip(2) // skip padding bytes\r\n\r\n  const palette = r.arrx(768, ReaderDataType.UByte)\r\n\r\n  const data =\r\n    name[0] === '{'\r\n      ? paletteWithLastTransToRGBA(pixels, palette)\r\n      : paletteToRGBA(pixels, palette)\r\n\r\n  return {\r\n    type: 'decal',\r\n    name,\r\n    width,\r\n    height,\r\n    data\r\n  }\r\n}\r\n\r\nfunction parseCache(_r: Reader, metadata: WadEntryMetadata): WadCache {\r\n  return {\r\n    type: 'cache',\r\n    name: metadata.name\r\n  }\r\n}\r\n\r\nfunction parseTexture(r: Reader): WadTexture {\r\n  const name = r.nstr(16)\r\n\r\n  const width = r.ui()\r\n  const height = r.ui()\r\n\r\n  r.skip(4 * 4) // skip mipmap offsets\r\n\r\n  // read largest mipmap data\r\n  const pixelCount = width * height\r\n  const pixels = r.arrx(pixelCount, ReaderDataType.UByte)\r\n\r\n  // skip other 3 mipmaps\r\n  r.skip(21 * (pixelCount / 64))\r\n\r\n  r.skip(2) // skip padding bytes\r\n\r\n  const palette = r.arrx(768, ReaderDataType.UByte)\r\n\r\n  const data =\r\n    name[0] === '{'\r\n      ? paletteWithLastTransToRGBA(pixels, palette)\r\n      : paletteToRGBA(pixels, palette)\r\n\r\n  return {\r\n    type: 'texture',\r\n    name,\r\n    width,\r\n    height,\r\n    data\r\n  }\r\n}\r\n\r\nfunction parseFont(r: Reader, metadata: WadEntryMetadata): WadFont {\r\n  const width = r.ui()\r\n  const height = r.ui()\r\n  const rowCount = r.ui()\r\n  const rowHeight = r.ui()\r\n\r\n  const glyphs = []\r\n  // hardcoded 256 number of glyphs\r\n  for (let i = 0; i < 256; ++i) {\r\n    glyphs.push({\r\n      offset: r.us(),\r\n      width: r.us()\r\n    })\r\n  }\r\n\r\n  const pixelCount = width * height\r\n  const pixels = r.arrx(pixelCount, ReaderDataType.UByte)\r\n\r\n  r.skip(2)\r\n\r\n  const palette = r.arrx(256 * 3, ReaderDataType.UByte)\r\n\r\n  return {\r\n    type: 'font',\r\n    name: metadata.name,\r\n    width,\r\n    height,\r\n    rowCount,\r\n    rowHeight,\r\n    glyphs,\r\n    data: paletteToRGBA(pixels, palette)\r\n  }\r\n}\r\n\r\nfunction parseUnknown(r: Reader, metadata: WadEntryMetadata): WadUnknown {\r\n  return {\r\n    type: 'unknown',\r\n    name: metadata.name,\r\n    data: r.arrx(metadata.length, r.ub.bind(r))\r\n  }\r\n}\r\n\r\nfunction parseEntry(r: Reader, metadata: WadEntryMetadata): WadEntry {\r\n  r.seek(metadata.offset)\r\n  switch (metadata.type) {\r\n    case 0x40: {\r\n      return parseDecal(r)\r\n    }\r\n    case 0x42: {\r\n      return parseCache(r, metadata)\r\n    }\r\n    case 0x43: {\r\n      return parseTexture(r)\r\n    }\r\n    case 0x46: {\r\n      return parseFont(r, metadata)\r\n    }\r\n\r\n    default: {\r\n      // unknown data type; return array of bytes\r\n      return parseUnknown(r, metadata)\r\n    }\r\n  }\r\n}\r\n\r\nexport interface WadTexture {\r\n  type: 'texture'\r\n  name: string\r\n  width: number\r\n  height: number\r\n  data: Uint8Array\r\n}\r\n\r\nexport interface WadDecal {\r\n  type: 'decal'\r\n  name: string\r\n  width: number\r\n  height: number\r\n  data: Uint8Array\r\n}\r\n\r\nexport interface WadCache {\r\n  type: 'cache'\r\n  name: string\r\n}\r\n\r\nexport interface WadFont {\r\n  type: 'font'\r\n  name: string\r\n  width: number\r\n  height: number\r\n  rowCount: number\r\n  rowHeight: number\r\n  glyphs: {\r\n    offset: number\r\n    width: number\r\n  }[]\r\n  data: Uint8Array\r\n}\r\n\r\nexport interface WadUnknown {\r\n  type: 'unknown'\r\n  name: string\r\n  data: Uint8Array\r\n}\r\n\r\nexport type WadEntry = WadTexture | WadDecal | WadCache | WadFont | WadUnknown\r\n\r\ninterface WadEntryMetadata {\r\n  offset: number\r\n  diskLength: number\r\n  length: number\r\n  type: number\r\n  isCompressed: number\r\n  name: string\r\n}\r\n\r\nexport class Wad {\r\n  entries: WadEntry[]\r\n\r\n  constructor(entries: WadEntry[]) {\r\n    this.entries = entries\r\n  }\r\n\r\n  static parse(buffer: ArrayBuffer) {\r\n    const r = new Reader(buffer)\r\n\r\n    const magic = r.nstr(4)\r\n    if (magic !== 'WAD3') {\r\n      throw new Error('Invalid WAD file format')\r\n    }\r\n\r\n    const entryCount = r.ui()\r\n    const directoryOffset = r.ui()\r\n    r.seek(directoryOffset)\r\n    const entriesMetadata: WadEntryMetadata[] = []\r\n    for (let i = 0; i < entryCount; ++i) {\r\n      const entry: WadEntryMetadata = {\r\n        offset: r.ui(),\r\n        diskLength: r.ui(),\r\n        length: r.ui(),\r\n        type: r.b(),\r\n        isCompressed: r.b(),\r\n        name: ''\r\n      }\r\n      r.skip(2)\r\n      entry.name = r.nstr(16)\r\n      entriesMetadata.push(entry)\r\n    }\r\n\r\n    const entries: WadEntry[] = entriesMetadata.map(e => parseEntry(r, e))\r\n\r\n    return new Wad(entries)\r\n  }\r\n}\r\n","export enum ReaderDataType {\r\n  UByte = 0,\r\n  Byte = 1,\r\n  UShort = 2,\r\n  Short = 3,\r\n  UInt = 4,\r\n  Int = 5,\r\n  Float = 6,\r\n  Double = 7,\r\n  NString = 8,\r\n  String = 9\r\n}\r\n\r\nexport class Reader {\r\n  data: DataView\r\n  offset: number\r\n\r\n  constructor(data: ArrayBuffer) {\r\n    if (data.byteLength === 0) {\r\n      throw new Error('ArrayBuffer must have size greater than zero')\r\n    }\r\n\r\n    this.data = new DataView(data)\r\n    this.offset = 0\r\n  }\r\n\r\n  length() {\r\n    return this.data.byteLength\r\n  }\r\n\r\n  tell() {\r\n    return this.offset\r\n  }\r\n\r\n  seek(offset: number) {\r\n    this.offset = Math.max(0, offset)\r\n  }\r\n\r\n  skip(offset: number) {\r\n    this.seek(this.tell() + offset)\r\n  }\r\n\r\n  b() {\r\n    const r = this.data.getInt8(this.offset)\r\n    this.skip(1)\r\n    return r\r\n  }\r\n\r\n  ub() {\r\n    const r = this.data.getUint8(this.offset)\r\n    this.skip(1)\r\n    return r\r\n  }\r\n\r\n  s(isLittleEndian = true) {\r\n    const r = this.data.getInt16(this.offset, isLittleEndian)\r\n    this.skip(2)\r\n    return r\r\n  }\r\n\r\n  us(isLittleEndian = true) {\r\n    const r = this.data.getUint16(this.offset, isLittleEndian)\r\n    this.skip(2)\r\n    return r\r\n  }\r\n\r\n  i(isLittleEndian = true) {\r\n    const r = this.data.getInt32(this.tell(), isLittleEndian)\r\n    this.skip(4)\r\n    return r\r\n  }\r\n\r\n  ui(isLittleEndian = true) {\r\n    const r = this.data.getUint32(this.tell(), isLittleEndian)\r\n    this.skip(4)\r\n    return r\r\n  }\r\n\r\n  f(isLittleEndian = true) {\r\n    const r = this.data.getFloat32(this.tell(), isLittleEndian)\r\n    this.skip(4)\r\n    return r\r\n  }\r\n\r\n  lf(isLittleEndian = true) {\r\n    const r = this.data.getFloat64(this.tell(), isLittleEndian)\r\n    this.skip(8)\r\n    return r\r\n  }\r\n\r\n  str() {\r\n    let t = this.ub()\r\n    let r = ''\r\n    while (t !== 0) {\r\n      r += String.fromCharCode(t)\r\n      t = this.ub()\r\n    }\r\n\r\n    return r\r\n  }\r\n\r\n  nstr(n: number) {\r\n    if (n < 0) {\r\n      throw new Error('Invalid string length')\r\n    }\r\n\r\n    let r = ''\r\n    while (n > 0) {\r\n      n -= 1\r\n      const charCode = this.ub()\r\n      if (charCode === 0) {\r\n        break\r\n      }\r\n\r\n      r += String.fromCharCode(charCode)\r\n    }\r\n\r\n    if (n !== 0) {\r\n      this.skip(n)\r\n    }\r\n\r\n    return r\r\n  }\r\n\r\n  arr(n: number, f: () => any) {\r\n    f.bind(this)\r\n    const r = []\r\n    while (n-- > 0) {\r\n      r.push(f())\r\n    }\r\n\r\n    return r\r\n  }\r\n\r\n  arrx(n: number, type: ReaderDataType, nstrlen = 0) {\r\n    let r: any\r\n\r\n    switch (type) {\r\n      case ReaderDataType.UByte: {\r\n        r = new Uint8Array(this.data.buffer, this.tell(), n)\r\n        this.skip(n)\r\n        break\r\n      }\r\n\r\n      case ReaderDataType.Byte: {\r\n        r = new Int8Array(this.data.buffer, this.tell(), n)\r\n        this.skip(n)\r\n        break\r\n      }\r\n\r\n      case ReaderDataType.UShort:\r\n        r = new Uint16Array(this.data.buffer, this.tell(), n)\r\n        this.skip(n * 2)\r\n        break\r\n\r\n      case ReaderDataType.Short:\r\n        r = new Int16Array(this.data.buffer, this.tell(), n)\r\n        this.skip(n * 2)\r\n        break\r\n\r\n      case ReaderDataType.UInt:\r\n        r = new Uint32Array(this.data.buffer, this.tell(), n)\r\n        this.skip(n * 4)\r\n        break\r\n\r\n      case ReaderDataType.Int:\r\n        r = new Int32Array(this.data.buffer, this.tell(), n)\r\n        this.skip(n * 4)\r\n        break\r\n\r\n      case ReaderDataType.Float:\r\n        r = new Float32Array(this.data.buffer, this.tell(), n)\r\n        this.skip(n * 4)\r\n        break\r\n\r\n      case ReaderDataType.Double:\r\n        r = new Float64Array(this.data.buffer, this.tell(), n)\r\n        this.skip(n * 8)\r\n        break\r\n\r\n      case ReaderDataType.NString:\r\n        r = []\r\n        while (n-- > 0) {\r\n          r.push(r.nstr(nstrlen))\r\n        }\r\n        break\r\n\r\n      case ReaderDataType.String:\r\n        r = []\r\n        while (n-- > 0) {\r\n          r.push(r.str())\r\n        }\r\n        break\r\n    }\r\n\r\n    return r\r\n  }\r\n}\r\n","import { readFile, createWriteStream, existsSync, mkdir } from 'fs'\nimport { promisify } from 'util'\nimport { PNG } from 'pngjs'\nimport { Wad } from '../../src/Parsers/Wad'\nimport { resolve } from 'path'\n\nconst mkdirP = promisify(mkdir)\nconst readFileP = promisify(readFile)\n\nfunction toArrayBuffer(buf: Buffer): ArrayBuffer {\n  var ab = new ArrayBuffer(buf.length)\n  var view = new Uint8Array(ab)\n  for (var i = 0; i < buf.length; ++i) {\n    view[i] = buf[i]\n  }\n  return ab\n}\n\nexport class WadExporter {\n  public static async export(path: string, out: string) {\n    const buffer = await readFileP(path, { flag: 'r' }).catch(() => {\n      console.log('File not found or could not be opened')\n    })\n    if (!buffer) {\n      return\n    }\n\n    if (!existsSync(out)) {\n      await mkdirP(out)\n    }\n\n    const arrayBuffer = toArrayBuffer(buffer)\n    const wad = await Wad.parse(arrayBuffer)\n\n    for (let i = 0; i < wad.entries.length; ++i) {\n      const entry = wad.entries[i]\n      if (entry.type !== 'texture') {\n        continue\n      }\n\n      const msg = `Exporting: ${entry.name}`\n      process.stdout.write(msg)\n\n      const png = new PNG({\n        width: entry.width,\n        height: entry.height\n      })\n\n      const mipmap = entry.data\n      for (let i = 0; i < mipmap.length; ++i) {\n        png.data[i] = mipmap[i]\n      }\n\n      png.pack().pipe(createWriteStream(`${out}/${entry.name}.png`))\n\n      const dots = []\n      for (let j = 0; j < 30 - msg.length; ++j) {\n        dots.push('.')\n      }\n      process.stdout.write(dots.join('') + 'DONE\\n')\n    }\n\n    console.log(\n      `\\nSuccessfully exported all textures from \"${resolve(\n        process.cwd(),\n        path\n      )}\"\\n into \"${resolve(process.cwd(), out)}\" directory\\n`\n    )\n  }\n}\n\nfunction getParam(params: string[], name: string): string | null {\n  let val = null\n  for (let i = 0; i < params.length; ++i) {\n    if (params[i] === name) {\n      val = params[i + 1]\n      break\n    }\n  }\n\n  return val\n}\n\n;(async function() {\n  const path = getParam(process.argv, '--path')\n  const out = getParam(process.argv, '--out')\n\n  if (!path) {\n    console.log('--path parameter missing')\n    return\n  }\n\n  if (!out) {\n    console.log('--out parameter missing')\n    return\n  }\n\n  await WadExporter.export(path, out)\n})()\n","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"pngjs\");","module.exports = require(\"util\");"],"sourceRoot":""}